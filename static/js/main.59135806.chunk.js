(this["webpackJsonpmini-mekhq"]=this["webpackJsonpmini-mekhq"]||[]).push([[0],{104:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var a="UNIT_INFO_UPDATE",i="UNIT_INFO_SET_COLOR"},105:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var a="MODAL_OPEN",i="MODAL_CLOSE"},106:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var a="CONTEXT_MENU_SHOW",i="CONTEXT_MENU_HIDE"},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="TAB_SELECTED"},160:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="DATA_LOADED"},161:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="MECH_SELECT"},30:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return o}));var a=n(49),i=n(35),r=function(e){return e.entities},l=Object(a.a)(r,(function(e){return i.a.session(e)})),o=function(e){var t=r(e);return i.a.session(t)}},340:function(e,t,n){e.exports=n.p+"static/media/logos.7c7c539a.svg"},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(696),i=n(28),r=n(16),l=n(17),o=n(19),c=n(18),u=n(168),d=n(158),s={name:"New Pilot",rank:"Private",gunnery:4,piloting:5,age:27},m=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"toJSON",value:function(){return Object(i.a)({},this.ref)}},{key:"updateFrom",value:function(e){this.update(e.ref)}}],[{key:"parse",value:function(e){return this.upsert(e)}},{key:"generate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.a)({},s,{},e);return this.create(t)}},{key:"fields",get:function(){return{id:Object(u.a)(),name:Object(u.a)(),rank:Object(u.a)(),gunnery:Object(u.a)(),piloting:Object(u.a)(),age:Object(u.a)(),mech:Object(u.b)("Mech")}}}]),n}(d.a);m.modelName="Pilot";var p=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"toJSON",value:function(){return Object(i.a)({},this.ref)}},{key:"updateFrom",value:function(e){this.update(e.ref)}}],[{key:"parse",value:function(e){return this.upsert(e)}},{key:"fields",get:function(){return{id:Object(u.a)(),type:Object(u.b)("MechDesign"),pilot:Object(u.b)("Pilot")}}}]),n}(d.a);p.modelName="Mech";var f=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"toJSON",value:function(){return Object(i.a)({},this.ref)}},{key:"updateform",value:function(e){this.update(e)}}],[{key:"parse",value:function(e){return this.upsert(e)}},{key:"fields",get:function(){return{id:Object(u.a)(),name:Object(u.a)(),weight:Object(u.a)()}}}]),n}(d.a);f.modelName="MechDesign";var h=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,null,[{key:"parse",value:function(e){var t=this.session,n=t.Pilot,a=t.Mech,r=t.Lance,l=Object(i.a)({},e,{pilots:e.pilots.map((function(e){return n.parse(e)})),mechs:e.mechs.map((function(e){return a.parse(e)})),lances:e.lances.map((function(e){return r.parse(e)}))});return this.upsert(l)}},{key:"fields",get:function(){return{id:Object(u.a)(),name:Object(u.a)(),affiliation:Object(u.b)("Faction"),color:Object(u.a)(),lances:Object(u.c)("Lance"),pilots:Object(u.c)("Pilot"),mechs:Object(u.c)("Mech")}}}]),n}(d.a);h.modelName="Unit";var b=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,null,[{key:"parse",value:function(e){return this.upsert(e)}},{key:"fields",get:function(){return{id:Object(u.a)(),name:Object(u.a)()}}}]),n}(d.a);b.modelName="Faction";var v=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,null,[{key:"parse",value:function(e){return this.upsert(e)}},{key:"fields",get:function(){return{id:Object(u.a)(),name:Object(u.a)(),pilots:Object(u.c)("Pilot")}}}]),n}(d.a);v.modelName="Lance";var E=new a.a({stateSelector:function(e){return e.orm}});E.register(m,p,f,h,b,v);var O=E},352:function(e,t,n){e.exports=n(681)},357:function(e,t,n){},46:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return c}));var a="EDIT_ITEM_EXISTING",i="EDIT_ITEM_NEW",r="EDIT_ITEM_UPDATE",l="EDIT_ITEM_APPLY",o="EDIT_ITEM_STOP",c="EDIT_ITEM_RESET"},53:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return l}));var a="PILOT_SELECT",i="PILOT_EDIT_START",r="PILOT_EDIT_STOP",l=["Private","Corporal","Sergeant","Lieutenant","Captain","Major","Colonel"]},61:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var a="ENTITY_UPDATE",i="ENTITY_DELETE",r="ENTITY_CREATE"},679:function(e,t,n){},680:function(e,t,n){"use strict";n.r(t);var a=n(16),i=n(17),r=n(19),l=n(18),o=n(0),c=n.n(o),u=n(23),d=n(342),s=n(702),m=n(317),p=n.n(m),f=function(e){var t=e.name,n=e.label,a=e.onClick,i=e.active;return c.a.createElement(s.a.Item,{name:t,label:n,active:i,onClick:function(){return a(t)}})},h=function(e){var t=e.tabs,n=e.currentTab,a=e.onTabClick,i=Object(d.a)(e,["tabs","currentTab","onTabClick"]),r=t.map((function(e){var t=e.name,i=e.label;return c.a.createElement(f,{key:t,name:t,label:i,active:n===t,onClick:a})})),l=t.map((function(e){var t=e.name,a=e.component;return c.a.createElement(p.a,{show:t===n,key:t},c.a.createElement(a,null))}));return c.a.createElement("div",null,c.a.createElement(s.a,Object.assign({tabular:!0,attached:"top"},i),r),l)},b=n(49),v=Object(b.a)((function(e){return e.tabs}),(function(e){return e.currentTab})),E=n(157);var O={onTabClick:function(e){return{type:E.a,payload:{tabName:e}}}},y=Object(u.b)((function(e){return{currentTab:v(e)}}),O)(h),C=n(703),j=n(704),g=n(705),k=n(22),w=n(693),I=n(698),M=n(30),T=Object(b.a)(M.a,(function(e){var t=e.Unit.all().first(),n=null;return t&&(n=t.ref),n})),P=n(104);function D(e){return{type:P.a,payload:{color:e}}}var S=n(88),x=n.n(S),N=n(105);function A(e,t){return{type:N.b,payload:{modalType:e,modalProps:t}}}function R(e,t){return{type:N.a}}function L(e){var t,n=e.target;if(n){var a="checkbox"===n.type?n.checked:n.value;t=Object(k.a)({},n.name,a)}else Object(S.isObject)(e)&&(t=e);return t}var H=n(701),_=function(e){var t=e.value,n=e.onClick,a=e.disabled,i=void 0!==a&&a;return c.a.createElement(H.a,{type:"button",style:{padding:"4px",margin:0},disabled:i,onClick:n},c.a.createElement("div",{style:{width:30,height:20,backgroundColor:t}}))},F={updateUnitInfo:function(e){return{type:P.b,payload:e}},showColorPicker:function(e,t){return A("ColorPickerDialog",{color:e,onColorPicked:t})},setUnitColor:D},U=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).onAffiliationChanged=function(t,n){var a=n.name,i=n.value,r=Object(k.a)({},a,i);e.props.updateUnitInfo(r)},e.onNameChanged=function(t){var n=L(t);e.props.updateUnitInfo(n)},e.onColorClicked=function(){var t=D();e.props.showColorPicker(e.props.unitInfo.color,t)},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.unitInfo,n=e.factions,a=Boolean(t),i="",r=null,l=null;a&&(i=t.name,r=t.affiliation,l=t.color);var o=n.map((function(e){return{value:e.id,text:e.name}}));return c.a.createElement(C.a,{attached:"bottom"},c.a.createElement(w.a,{size:"large"},c.a.createElement(w.a.Group,null,c.a.createElement(w.a.Field,{name:"name"},c.a.createElement("label",null,"Unit Name"),c.a.createElement("input",{name:"name",placeholder:"Name",value:i,onChange:this.onNameChanged}))),c.a.createElement(w.a.Group,null,c.a.createElement(w.a.Field,{name:"Affiliation",width:12},c.a.createElement("label",null,"Affiliation"),c.a.createElement(I.a,{name:"affiliation",selection:!0,options:o,value:r,onChange:this.onAffiliationChanged})),c.a.createElement(w.a.Field,{name:"color"},c.a.createElement("label",null,"Color"),c.a.createElement(_,{value:l,onClick:this.onColorClicked,disabled:!a})))))}}]),n}(o.Component),W=Object(u.b)((function(e){return{factions:Object(M.a)(e).Faction.all().toRefArray(),unitInfo:T(e)}}),F)(U),G=n(699),J={name:"Unknown",rank:""},z={id:"N/A",name:""},B=Object(u.b)((function(e,t){var n,a,i=Object(M.a)(e).Pilot;if(i.idExists(t.pilotID)){var r=i.withId(t.pilotID);n=r.ref,r.mech&&(a=r.mech.type.ref)}return{pilot:n,mech:a}}))((function(e){var t=e.pilot,n=void 0===t?J:t,a=e.mech,i=void 0===a?z:a,r=n.name,l=n.rank,o=i.id,u=i.name;return c.a.createElement(G.a.Item,null,c.a.createElement(G.a.Icon,{name:"user"}),c.a.createElement(G.a.Content,null,c.a.createElement(G.a.Header,null,l," ",r," - ",o," ",u)))})),X={name:"Unknown"},K=Object(u.b)((function(e,t){var n,a,i=Object(M.a)(e).Lance;if(i.idExists(t.lanceID)){var r=i.withId(t.lanceID);n=r.ref,a=r.pilots.toRefArray().map((function(e){return e.id}))}return{lance:n,pilots:a}}))((function(e){var t=e.lance,n=void 0===t?X:t,a=e.pilots,i=void 0===a?[]:a,r=n.name,l=i.map((function(e){return c.a.createElement(B,{key:e,pilotID:e})}));return c.a.createElement(G.a.Item,null,c.a.createElement(G.a.Icon,{name:"cube"}),c.a.createElement(G.a.Content,null,c.a.createElement(G.a.Header,null,r),c.a.createElement(G.a.List,null,l)))})),Y={name:"UNKNOWN"},q=Object(u.b)((function(e){var t,n,a,i=Object(M.a)(e).Unit.all().first();return i&&(t=i.ref,n=i.affiliation.ref,a=i.lances.toRefArray().map((function(e){return e.id}))),{unit:t,faction:n,lances:a}}))((function(e){var t=e.unit,n=void 0===t?Y:t,a=e.faction,i=void 0===a?{}:a,r=e.lances,l=void 0===r?[]:r,o=n.name,u=n.color,d=i.name,s=c.a.createElement("div",{style:{marginLeft:10,backgroundColor:u,border:"1px solid black",height:20,width:40}}),m=d?"".concat(o," / ").concat(d):o,p=l.map((function(e){return c.a.createElement(K,{key:e,lanceID:e})}));return c.a.createElement(G.a,{size:"large"},c.a.createElement(G.a.Item,null,c.a.createElement(G.a.Icon,{name:"cubes"}),c.a.createElement(G.a.Content,null,c.a.createElement(G.a.Header,{style:{display:"flex"}},m," ",s),c.a.createElement(G.a.List,null,p))))})),Q=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return c.a.createElement(C.a,null,c.a.createElement(j.a,null,c.a.createElement(j.a.Column,{width:10},c.a.createElement(g.a,{as:"h3"},"Units Table of Organization"),c.a.createElement(C.a,null,c.a.createElement(q,null))),c.a.createElement(j.a.Column,{width:6},c.a.createElement(g.a,{as:"h3"},"Edit Units"),c.a.createElement(C.a,null,c.a.createElement(W,null)))))}}]),n}(o.Component),V=n(697),Z=function(){return c.a.createElement(V.a.Header,null,c.a.createElement(V.a.Row,null,c.a.createElement(V.a.HeaderCell,{width:5},"Name"),c.a.createElement(V.a.HeaderCell,{width:3},"Rank"),c.a.createElement(V.a.HeaderCell,{width:2},"Age"),c.a.createElement(V.a.HeaderCell,{width:2},"Skills"),c.a.createElement(V.a.HeaderCell,{width:4},"Mech"),c.a.createElement(V.a.HeaderCell,{width:1})))},$=n(28),ee=n(78),te=n(61);function ne(e,t){return{type:te.b,payload:{itemType:e,itemID:t}}}var ae=n(106);function ie(e,t,n,a){return{type:ae.b,payload:{location:{x:e,y:t},type:n,menuArgs:a}}}function re(){return{type:ae.a}}var le={showContextMenu:ie,deleteEntity:ne},oe=Object(u.b)((function(e,t){var n=Object(M.a)(e).Pilot,a={};if(n.idExists(t.pilotID)){var i=n.withId(t.pilotID);a=Object($.a)({},i.ref);var r=i.mech;r&&r.type&&(a.mechType=r.type.id)}return{pilot:a}}),le)((function(e){var t=e.pilot,n=void 0===t?{}:t,a=e.onPilotClicked,i=void 0===a?x.a.noop:a,r=e.selected,l=e.deleteEntity,o=e.showContextMenu,u=n.id,d=void 0===u?null:u,s=n.name,m=void 0===s?"":s,p=n.rank,f=void 0===p?"":p,h=n.age,b=void 0===h?"":h,v=n.gunnery,E=void 0===v?"":v,O=n.piloting,y=void 0===O?"":O,C=n.mechType,j=void 0===C?"":C;return c.a.createElement(V.a.Row,{onClick:function(){return i(d)},onContextMenu:function(e){e.preventDefault(),e.stopPropagation();var t=e.pageX,a=e.pageY;o(t,a,"PilotListItemMenu",{text:n.name,pilotId:d})},active:r},c.a.createElement(V.a.Cell,null,m),c.a.createElement(V.a.Cell,null,f),c.a.createElement(V.a.Cell,null,b),c.a.createElement(V.a.Cell,null,E," / ",y),c.a.createElement(V.a.Cell,null,j),c.a.createElement(V.a.Cell,null,c.a.createElement(H.a,{compact:!0,basic:!0,circular:!0,size:"tiny",color:"red",icon:c.a.createElement(ee.a,{name:"delete"}),onClick:function(e){e.stopPropagation(),e.preventDefault(),l("Pilot",d)}})))})),ce=function(e){return e.pilots},ue=Object(b.a)(ce,(function(e){return e.currentPilot})),de=Object(b.a)(ce,(function(e){return e.isEditing})),se=n(330),me=n.n(se),pe=n(46);function fe(e,t){return{type:pe.a,payload:{itemType:e,itemID:t}}}function he(e,t){return{type:pe.e,payload:{itemType:e,itemID:t}}}var be=n(53);function ve(e){return function(t,n){var a=n();de(a)&&t(Oe()),t({type:be.d,payload:{currentPilot:e}})}}function Ee(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,n){var a=ue(n()),i=!Object(M.a)(n).Pilot.hasId(a);t({type:be.b}),e&&t(fe("Pilot",a)),t(he("Pilot",a)),i&&t({type:be.d,payload:{currentPilot:null}})}}function Oe(){return function(e,t){e(Ee(!1))}}var ye={selectPilot:ve},Ce=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.pilots,n=e.selectPilot,a=e.currentPilot,i=t.map((function(e){return c.a.createElement(oe,{key:e,pilotID:e,onPilotClicked:n,selected:e===a})}));return c.a.createElement(V.a,{celled:!0},c.a.createElement(Z,null),c.a.createElement(V.a.Body,null,i))}}]),n}(o.Component),je=Object(u.b)((function(e){return{pilots:Object(M.a)(e).Pilot.all().toModelArray().map((function(e){return e.getId()})),currentPilot:ue(e)}}),ye)(Ce),ge=n(36),ke=n(79),we=be.c.map((function(e){return{value:e,text:e}})),Ie=[{value:0,text:0},{value:1,text:1},{value:2,text:2},{value:3,text:3},{value:4,text:4},{value:5,text:5},{value:6,text:6},{value:7,text:7},{value:8,text:8}],Me=[{value:"WHM-6R",text:"Warhammer WHM-6R"}],Te={startEditingPilot:function(){return function(e,t){var n,a,i=ue(t());e((n="Pilot",a=i,{type:pe.b,payload:{itemType:n,itemID:a}})),e({type:be.a})}},stopEditingPilot:function(){return function(e,t){e(Ee(!0))}},editItemAttributes:function(e,t,n){return{type:pe.f,payload:{itemType:e,itemID:t,newItemAttributes:n}}},cancelEditingPilot:Oe,resetEditedItem:function(e,t){return{type:pe.d,payload:{itemType:e,itemID:t}}}},Pe=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).onInputChanged=i.onInputChanged.bind(Object(ge.a)(i)),i.onDropdownChanged=i.onDropdownChanged.bind(Object(ge.a)(i)),i.onStartEditingClicked=i.onStartEditingClicked.bind(Object(ge.a)(i)),i.onStopEditingClicked=i.onStopEditingClicked.bind(Object(ge.a)(i)),i.onResetClicked=i.onResetClicked.bind(Object(ge.a)(i)),i}return Object(i.a)(n,[{key:"onStartEditingClicked",value:function(){this.props.pilot.id;this.props.startEditingPilot()}},{key:"onStopEditingClicked",value:function(){this.props.pilot.id;this.props.stopEditingPilot()}},{key:"onInputChanged",value:function(e){var t=L(e),n=this.props.pilot.id;this.props.editItemAttributes("Pilot",n,t)}},{key:"onDropdownChanged",value:function(e,t){var n=t.name,a=t.value,i=Object(k.a)({},n,a),r=this.props.pilot.id;this.props.editItemAttributes("Pilot",r,i)}},{key:"onResetClicked",value:function(){var e=this.props.pilot.id;this.props.resetEditedItem("Pilot",e)}},{key:"render",value:function(){var e=this.props,t=e.pilot,n=void 0===t?{}:t,a=e.pilotIsSelected,i=void 0!==a&&a,r=e.isEditingPilot,l=void 0!==r&&r,o=n.name,u=void 0===o?"":o,d=n.rank,s=void 0===d?"":d,m=n.age,p=void 0===m?"":m,f=n.gunnery,h=void 0===f?"":f,b=n.piloting,v=void 0===b?"":b,E=n.mechType,O=void 0===E?"":E,y=i&&!l,C=i&&l;return c.a.createElement(w.a,{size:"large"},c.a.createElement(w.a.Field,{name:"name",label:"Name",width:16,control:"input",placeholder:"Name",value:u,disabled:!C,onChange:this.onInputChanged}),c.a.createElement(w.a.Group,null,c.a.createElement(w.a.Field,{name:"rank",label:"Rank",width:16,control:I.a,fluid:!0,selection:!0,options:we,value:s,disabled:!C,onChange:this.onDropdownChanged}),c.a.createElement(w.a.Field,{name:"age",label:"Age",width:6,control:"input",placeholder:"Age",value:p,disabled:!C,onChange:this.onInputChanged})),c.a.createElement(w.a.Group,null,c.a.createElement(w.a.Field,{name:"gunnery",label:"Gunnery",width:6,control:I.a,fluid:!0,selection:!0,options:Ie,value:h,disabled:!C,onChange:this.onDropdownChanged}),c.a.createElement(w.a.Field,{name:"piloting",label:"Piloting",width:6,control:I.a,fluid:!0,selection:!0,options:Ie,value:v,disabled:!C,onChange:this.onDropdownChanged})),c.a.createElement(w.a.Field,{name:"mech",label:"Mech",width:16,control:I.a,fluid:!0,selection:!0,options:Me,value:O,disabled:!C,onChange:this.onDropdownChanged}),c.a.createElement(j.a.Row,{width:16},c.a.createElement(H.a,{primary:!0,disabled:!y,type:"button",style:{width:140},onClick:this.onStartEditingClicked},"Start Editing"),c.a.createElement(H.a,{secondary:!0,disabled:!C,type:"button",style:{width:140},onClick:this.onStopEditingClicked},"Save Editing")),c.a.createElement(j.a.Row,null,c.a.createElement(H.a,{disabled:!C,type:"button",style:{width:140,marginRight:5},onClick:this.onResetClicked},"Reset Values"),c.a.createElement(H.a,{negative:!0,secondary:!0,disabled:!C,type:"button",style:{width:140},onClick:this.props.cancelEditingPilot},"Cancel Edits")))}}]),n}(o.Component),De=Object(u.b)((function(e){var t,n=ue(e),a=Boolean(n),i=de(e);if(a){var r=(i?Object(ke.a)(e):Object(M.a)(e)).Pilot;r.idExists(n)&&(t=r.withId(n).ref)}return{pilot:t,pilotIsSelected:a,isEditingPilot:i}}),Te)(Pe),Se={addNewPilot:function(){return function(e,t){var n,a,i,r=Object(M.b)(t()).Pilot,l=me()(),o=r.generate({id:l}).toJSON();e((n="Pilot",a=l,i=o,{type:pe.c,payload:{itemType:n,itemID:a,newItemAttributes:i}})),e(ve(l)),e({type:be.a})}}},xe=Object(u.b)((function(e){return{isEditingPilot:de(e)}}),Se)((function(e){return c.a.createElement(H.a,{primary:!0,disabled:e.selectIsEditingPilot,type:"button",onClick:e.addNewPilot,style:{width:140,marginRight:10}},"Add New Pilot")})),Ne=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return c.a.createElement(C.a,null,c.a.createElement(j.a,null,c.a.createElement(j.a.Column,{width:10},c.a.createElement(g.a,{as:"h3"},"Pilot List"),c.a.createElement(je,null)),c.a.createElement(j.a.Column,{width:6},c.a.createElement(g.a,{as:"h3"},"Pilot Details"),c.a.createElement(C.a,null,c.a.createElement(De,null)),c.a.createElement(C.a,null,c.a.createElement(xe,null)))))}}]),n}(o.Component),Ae=function(){return c.a.createElement(V.a.Header,null,c.a.createElement(V.a.Row,null,c.a.createElement(V.a.HeaderCell,{width:2},"ID"),c.a.createElement(V.a.HeaderCell,{width:5},"Name"),c.a.createElement(V.a.HeaderCell,{width:3},"Model"),c.a.createElement(V.a.HeaderCell,{width:3},"Weight (tons)"),c.a.createElement(V.a.HeaderCell,{width:2},"Class")))},Re=[{name:"Light",weights:[20,25,30,35]},{name:"Medium",weights:[40,45,50,55]},{name:"Heavy",weights:[60,65,70,75]},{name:"Assault",weights:[80,85,90,95,100]}];function Le(e){return(Re.find((function(t){return t.weights.includes(e)}))||{name:"Unknown"}).name}var He=Object(b.a)((function(e){return e.mechs}),(function(e){return e.currentMech})),_e=Object(u.b)((function(e,t){var n,a=Object(M.a)(e).Mech;if(a.idExists(t.mechID)){var i=a.withId(t.mechID);n=Object($.a)({},i.ref,{mechType:{}}),i.type&&(n.mechType=Object($.a)({},i.type.ref))}return{mech:n}}))((function(e){var t=e.mech,n=void 0===t?{}:t,a=e.onMechClick,i=e.selected,r=n.id,l=void 0===r?null:r,o=n.type,u=void 0===o?"":o,d=n.mechType,s=void 0===d?{}:d,m=s.name,p=void 0===m?"":m,f=s.weight,h=void 0===f?"":f,b=Le(h);return c.a.createElement(V.a.Row,{onClick:function(){return a(l)},active:i},c.a.createElement(V.a.Cell,null,l),c.a.createElement(V.a.Cell,null,p),c.a.createElement(V.a.Cell,null,u),c.a.createElement(V.a.Cell,null,h),c.a.createElement(V.a.Cell,null,b))})),Fe=n(161);var Ue={selectMech:function(e){return{type:Fe.a,payload:{currentMech:e}}}},We=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.mechs,n=void 0===t?[]:t,a=e.currentMech,i=e.selectMech,r=n.map((function(e){return c.a.createElement(_e,{mechID:e,key:e,onMechClick:i,selected:e===a})}));return c.a.createElement(V.a,{celled:!0},c.a.createElement(Ae,null),r)}}]),n}(o.Component),Ge=Object(u.b)((function(e){return{mechs:Object(M.a)(e).Mech.all().toModelArray().map((function(e){return e.getId()})),currentMech:He(e)}}),Ue)(We),Je=Object(u.b)((function(e){var t,n=He(e),a=Object(M.a)(e).Mech;if(a.idExists(n)){var i=a.withId(n);t=Object($.a)({},i.ref,{mechType:{}}),i.type&&(t.mechType=i.type.ref)}return{mech:t}}))((function(e){var t=e.mech,n=void 0===t?{}:t,a=n.id,i=void 0===a?"":a,r=n.type,l=void 0===r?"":r,o=n.mechType,u=void 0===o?{}:o,d=u.name,s=void 0===d?"":d,m=u.weight,p=void 0===m?"":m,f=Le(p);return c.a.createElement(w.a,{size:"large"},c.a.createElement(w.a.Field,{name:"id",width:6},c.a.createElement("label",null,"ID"),c.a.createElement("input",{placeholder:"ID",value:i,disabled:!0})),c.a.createElement(w.a.Field,{name:"name",width:16},c.a.createElement("label",null,"Name"),c.a.createElement("input",{placeholder:"Name",value:s,disabled:!0})),c.a.createElement(w.a.Field,{name:"model",width:6},c.a.createElement("label",null,"Model"),c.a.createElement("input",{placeholder:"Model",value:l,disabled:!0})),c.a.createElement(w.a.Field,{name:"weight",width:6},c.a.createElement("label",null,"Weight"),c.a.createElement("input",{value:p,disabled:!0})),c.a.createElement(w.a.Field,{name:"class",width:6},c.a.createElement("label",null,"Class"),c.a.createElement("input",{value:f,disabled:!0})))})),ze=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return c.a.createElement(C.a,null,c.a.createElement(j.a,null,c.a.createElement(j.a.Column,{width:10},c.a.createElement(g.a,{as:"h3"},"Mechs List"),c.a.createElement(Ge,null)),c.a.createElement(j.a.Column,{width:6},c.a.createElement(C.a,null,c.a.createElement(Je,null)))))}}]),n}(o.Component),Be={unit:{name:"Black Widow Company",affiliation:"wd",color:"green",lances:[{id:1,name:"Command Lance",pilots:[1,2,3,4]},{id:2,name:"Fire Lance",pilots:[5,6,7,8]},{id:3,name:"Recon Lance",pilots:[9,10,11,12]}],pilots:[{id:1,name:"Natasha Kerensky",rank:"Captain",gunnery:2,piloting:2,age:52,mech:1},{id:2,name:"Colin Maclaren",rank:"Sergeant",gunnery:3,piloting:4,age:43,mech:2},{id:3,name:"Lynn Sheridan",rank:"Corporal",gunnery:4,piloting:5,age:27,mech:3},{id:4,name:"John Hayes",rank:"Sergeant",gunnery:3,piloting:4,age:34,mech:4},{id:5,name:"Takiro Ikeda",rank:"Lieutenant",gunnery:3,piloting:4,age:41,mech:5},{id:6,name:"Miklos Delius",rank:"Corporal",gunnery:4,piloting:4,age:31,mech:6},{id:7,name:"Nikolai Koniev",rank:"Private",gunnery:3,piloting:4,age:39,mech:7},{id:8,name:"Alex Ward",rank:"Corporal",gunnery:4,piloting:5,age:36,mech:8},{id:9,name:"John Clavell",rank:"Lieutenant",gunnery:3,piloting:4,age:40,mech:9},{id:10,name:"Piet Nichols",rank:"Corporal",gunnery:4,piloting:5,age:37,mech:10},{id:11,name:"Simon Fraser",rank:"Sergeant",gunnery:3,piloting:4,age:32,mech:11},{id:12,name:"Mohammar Jahan",rank:"Corporal",gunnery:3,piloting:5,age:29,mech:12}],mechs:[{id:1,type:"WHM-6R",pilot:1},{id:2,type:"MAD-3R",pilot:2},{id:3,type:"CRD-3R",pilot:3},{id:4,type:"GRF-1N",pilot:4},{id:5,type:"ARC-2R",pilot:5},{id:6,type:"ARC-2R",pilot:6},{id:7,type:"WSP-1A",pilot:7},{id:8,type:"STG-3R",pilot:8},{id:9,type:"RFL-3N",pilot:9},{id:10,type:"PXH-1K",pilot:10},{id:11,type:"STG-3R",pilot:11},{id:12,type:"STG-3R",pilot:12}]},designs:[{id:"STG-3R",name:"Stinger",weight:20},{id:"WSP-1A",name:"Wasp",weight:20},{id:"PXH-1K",name:"Phoenix Hawk",weight:45},{id:"GRF-1N",name:"Griffin",weight:55},{id:"RFL-3N",name:"Rifleman",weight:60},{id:"CRD-3R",name:"Crusader",weight:65},{id:"ARC-2R",name:"Archer",weight:70},{id:"WHM-6R",name:"Warhammer",weight:70},{id:"MAD-3R",name:"Marauder",weight:75}],factions:[{id:"cc",name:"Capellan Confederation"},{id:"dc",name:"Draconis Combine"},{id:"elh",name:"Eridani Light Horse"},{id:"fs",name:"Federated Suns"},{id:"fwl",name:"Free Worlds League"},{id:"hr",name:"Hansen's Roughriders"},{id:"lc",name:"Lyran Commonwealth"},{id:"wd",name:"Wolf's Dragoons"}]};var Xe=n(160);var Ke={loadUnitData:function(){return function(e,t){Promise.resolve(Be).then((function(t){e({type:Xe.a,payload:t})}))}},openModal:A,showContextMenu:ie},Ye=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).onOpenModalClicked=i.onOpenModalClicked.bind(Object(ge.a)(i)),i.onOpenTestModalClicked=i.onOpenTestModalClicked.bind(Object(ge.a)(i)),i.onShowContextMenuClicked=i.onShowContextMenuClicked.bind(Object(ge.a)(i)),i}return Object(i.a)(n,[{key:"onShowContextMenuClicked",value:function(){this.props.showContextMenu(600,200,"TestContextMenu",{text:"Blah"})}},{key:"onOpenModalClicked",value:function(){this.props.openModal("ColorPickerDialog")}},{key:"onOpenTestModalClicked",value:function(){this.props.openModal("TestModal",{counter:1})}},{key:"render",value:function(){var e=this.props.loadUnitData;return c.a.createElement(C.a,{attached:"bottom"},c.a.createElement(H.a,{onClick:e},"Reload Unit Data"),c.a.createElement(H.a,{primary:!0,onClick:this.onOpenModalClicked},"Show Color Picker"),c.a.createElement(H.a,{secondary:!0,onClick:this.onOpenTestModalClicked},"Show Test Modal"),c.a.createElement(H.a,{secondary:!0,onClick:this.onShowContextMenuClicked},"Show Test Context Menu"))}}]),n}(o.Component),qe=Object(u.b)(null,Ke)(Ye),Qe=n(694),Ve={openModal:A,closeModal:R},Ze=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).onNextModalClick=i.onNextModalClick.bind(Object(ge.a)(i)),i}return Object(i.a)(n,[{key:"onNextModalClick",value:function(){var e=this.props.counter;this.props.openModal("TestModal",{counter:e+1})}},{key:"render",value:function(){var e=this.props,t=e.counter,n=e.closeModal;return c.a.createElement(Qe.a,{closeIcon:"close",open:!0,onClose:n},c.a.createElement(Qe.a.Header,null,"Modal #"),c.a.createElement(Qe.a.Content,{image:!0},c.a.createElement(Qe.a.Description,null,c.a.createElement("h4",null,"value from props:"),c.a.createElement("div",null,"counter = ",t),c.a.createElement("div",null,c.a.createElement(H.a,{onClick:this.onNextModalClick},"Add Another Modal")))),c.a.createElement(Qe.a.Actions,null))}}]),n}(o.Component),$e=Object(u.b)(null,Ve)(Ze),et=n(339),tt={closeModal:R,colorSelected:function(e,t){return function(n){if(t){var a=x.a.cloneDeep(t);a.payload.color=e,n(a)}}}},nt=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this)).state={color:e.color},i.onSelectClicked=i.onSelectClicked.bind(Object(ge.a)(i)),i.onSelectedColorChanged=i.onSelectedColorChanged.bind(Object(ge.a)(i)),i}return Object(i.a)(n,[{key:"onSelectClicked",value:function(){this.props.colorSelected(this.state.color,this.props.onColorPicked),this.props.closeModal()}},{key:"onSelectedColorChanged",value:function(e){this.setState({color:e.hex})}},{key:"render",value:function(){var e=this.props.closeModal;return c.a.createElement(Qe.a,{closeIcon:"close",open:!0,onClose:e,size:"small"},c.a.createElement(Qe.a.Header,null,"Select Color"),c.a.createElement(Qe.a.Content,null,c.a.createElement(et.SketchPicker,{color:this.state.color,onChangeComplete:this.onSelectedColorChanged})),c.a.createElement(Qe.a.Actions,null,c.a.createElement(H.a,{positive:!0,onClick:this.onSelectClicked},"Select"),c.a.createElement(H.a,{positive:!0,onClick:e},"Cancel")))}}]),n}(o.Component);nt.defaultProps={color:"red"};var at={TestModal:$e,ColorPickerDialog:Object(u.b)(null,tt)(nt)},it=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.currentModal.map((function(e,t){var n=e.modalType,a=e.modalProps,i=void 0===a?{}:a,r=at[n];return c.a.createElement(r,Object.assign({},i,{key:n+t}))}));return c.a.createElement("span",null,e)}}]),n}(o.Component),rt=Object(u.b)((function(e){return{currentModal:e.modals}}))(it),lt=n(700),ot=function(e){var t=e.children,n=e.nodeRef,a={position:"absolute",top:400,bottom:100,left:e.left,right:e.right,width:e.width};return c.a.createElement("div",{style:a,className:e.className,ref:n},t)},ct={hideContextMenu:re},ut=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleClickOutside=i.handleClickOutside.bind(Object(ge.a)(i)),i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside,!0)}},{key:"componentWillUnmount",value:function(){document.addEventListener("click",this.handleClickOutside,!0)}},{key:"handleClickOutside",value:function(e){if(!this.node||this.node.contains(e.target))return this.props.hideContextMenu()}},{key:"render",value:function(){var e=this,t=this.props.location;return c.a.createElement(ot,{left:t.x+2,right:t.y,className:"contextMenu",nodeRef:function(t){return e.node=t}},this.props.children)}}]),n}(o.Component),dt=Object(u.b)(null,ct)(ut),st=function(e){return e.contextMenu},mt=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return c.a.createElement(s.a,{vertical:!0},c.a.createElement(s.a.Item,null,c.a.createElement(s.a.Header,null,"menu Header: ",this.props.text),c.a.createElement(s.a.Menu,null,c.a.createElement(s.a.Item,null,"First Menu Item"),c.a.createElement(s.a.Item,null,"Second Menu Item"))))}}]),n}(o.Component),pt={selectPilot:ve,hideContextMenu:re,deleteEntity:ne},ft=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).onSelectClicked=i.onSelectClicked.bind(Object(ge.a)(i)),i.onDeleteClicked=i.onDeleteClicked.bind(Object(ge.a)(i)),i}return Object(i.a)(n,[{key:"onSelectClicked",value:function(){this.props.selectPilot(this.props.pilotId),this.props.hideContextMenu()}},{key:"onDeleteClicked",value:function(){this.props.deleteEntity("Pilot",this.props.pilotId),this.props.hideContextMenu()}},{key:"render",value:function(){return c.a.createElement(s.a,{vertical:!0},c.a.createElement(s.a.Header,null,"Pilot: ",this.props.text),c.a.createElement(s.a.Menu,null,c.a.createElement(s.a.Item,{onClick:this.onSelectClicked},"Select Pilot"),c.a.createElement(s.a.Item,{onClick:this.onDeleteClicked},"Delete Pilot")))}}]),n}(o.Component),ht=(Object(u.b)(null,pt)(ft),{TestContextMenu:mt,PilotListItemMenu:ft});var bt=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.contextMenu,t=e.show,n=e.location,a=e.type,i=e.menuArgs,r=null;if(t){var l=ht[a];l&&(r=c.a.createElement(lt.a,{isOpened:!0},c.a.createElement(dt,{location:n},c.a.createElement(l,i))))}return r}}]),n}(o.Component),vt=Object(u.b)((function(e){return{contextMenu:st(e)}}))(bt),Et=(n(679),n(340)),Ot=n.n(Et),yt=n(692),Ct=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=[{name:"unitInfo",label:"Unit Info",component:Q},{name:"pilots",label:"Pilots",component:Ne},{name:"mechs",label:"Mechs",component:ze},{name:"tools",label:"Tools",component:qe}];return c.a.createElement("div",{className:"App"},c.a.createElement(rt,null),c.a.createElement(vt,null),c.a.createElement("div",{className:"App-header"},c.a.createElement("img",{src:Ot.a,className:"App-logo",alt:"logo"}),c.a.createElement(g.a,{inverted:!0,as:"h1"},"Mini-MekHQ")),c.a.createElement(yt.a,null,c.a.createElement(y,{tabs:e,size:"massive"})))}}]),n}(o.Component);t.default=Ct},681:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(40),l=n.n(r),o=(n(357),n(23)),c=(n(362),n(73)),u=n(311),d=n(312),s=n(22),m=n(28);function p(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,a=arguments.length>1?arguments[1]:void 0,i=a.type,r=a.payload,l=t[i];return l?l(n,r):n}}function f(e,t){var n=p({},t);return function(a,i){return t[i.type]?Object(m.a)({},a,Object(s.a)({},e,n(a[e],i))):a}}var h=n(157);var b,v=p({currentTab:"unitInfo"},Object(s.a)({},h.a,(function(e,t){return{currentTab:t.tabName}}))),E=n(35),O=n(104);var y=f("entities",(b={},Object(s.a)(b,O.b,(function(e,t){var n=E.a.session(e),a=n.Unit.all().first();return a&&a.update(t),n.state})),Object(s.a)(b,O.a,(function(e,t){var n=t.color,a=E.a.session(e),i=a.Unit.all().first();return i&&(i.color=n),a.state})),b)),C=n(160);var j,g=p(E.a.getEmptyState(),Object(s.a)({},C.a,(function(e,t){var n=E.a.session(e),a=n.Unit,i=n.Faction,r=n.Pilot,l=n.Mech,o=n.MechDesign,c=t.unit,u=t.factions,d=t.designs;return[a,i,r,l,o].forEach((function(e){e.all().toModelArray().forEach((function(e){return e.delete()}))})),a.parse(c),u.forEach((function(e){return i.parse(e)})),d.forEach((function(e){return o.parse(e)})),n.state}))),k=n(53),w=n(61);var I,M=p({currentPilot:null,isEditing:!1},(j={},Object(s.a)(j,k.d,(function(e,t){var n=e.currentPilot,a=t.currentPilot,i=n===a;return Object(m.a)({},e,{currentPilot:i?null:a})})),Object(s.a)(j,k.a,(function(e,t){return Object(m.a)({},e,{isEditing:!0})})),Object(s.a)(j,k.b,(function(e,t){return Object(m.a)({},e,{isEditing:!1})})),Object(s.a)(j,w.b,(function(e,t){var n=e.currentPilot,a=t.itemType,i=t.itemID;return"Pilot"===a&&i===n?Object(m.a)({},e,{isEditing:!1,currenttPilot:null}):e})),j)),T=n(161),P=p({currentMech:null},Object(s.a)({},T.a,(function(e,t){var n=e.currentMech,a=t.currentMech;return{currentMech:n===a?null:a}}))),D=p(E.a.getEmptyState(),{}),S=n(105);var x,N=p([],(I={},Object(s.a)(I,S.b,(function(e,t){var n=t.modalType,a=t.modalProps;return e.concat({modalType:n,modalProps:a})})),Object(s.a)(I,S.a,(function(e,t){var n=e.slice();return n.pop(),n})),I)),A=n(106),R={show:!1,location:{x:null,y:null},type:null,menuArgs:void 0};var L,H=p(R,(x={},Object(s.a)(x,A.b,(function(e,t){return Object(m.a)({},e,{show:!0},t)})),Object(s.a)(x,A.a,(function(e,t){return Object(m.a)({},R)})),x));function _(e,t){var n=t.itemType,a=t.itemID,i=t.newItemAttributes,r=E.a.session(e),l=r[n],o=e;l.idExists(a)&&(l.withId(a).update(i),o=r.state);return o}function F(e,t){var n=t.itemType,a=t.itemID,i=E.a.session(e),r=i[n],l=e;r.idExists(a)&&(r.withId(a).delete(),l=i.state);return l}function U(e,t){var n=t.itemType,a=t.newItemAttributes,i=E.a.session(e);return i[n].parse(a),i.state}var W=f("entities",(L={},Object(s.a)(L,w.c,_),Object(s.a)(L,w.b,F),Object(s.a)(L,w.a,U),L)),G=n(46),J=n(30),z=n(79);function B(e,t,n){return e[t].withId(n)}function X(e,t){return Object(m.a)({},e,{editingEntities:t})}var K;n(88);function Y(e,t,n){var a=n.itemID,i=n.itemType;return U(t,{itemType:i,itemID:a,newItemAttributes:function(e,t,n){return B(E.a.session(e),t,n).toJSON()}(e,i,a)})}function q(e,t){return X(e,Y(Object(J.c)(e),Object(z.b)(e),t))}function Q(e,t){return X(e,F(Object(z.b)(e),t))}var V=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.reduce((function(e,t){return t(e,n)}),e)}}(W,p({},(K={},Object(s.a)(K,G.e,Q),Object(s.a)(K,G.b,q),Object(s.a)(K,G.c,(function(e,t){return X(e,U(Object(z.b)(e),t))})),Object(s.a)(K,G.f,(function(e,t){return X(e,_(Object(z.b)(e),t))})),Object(s.a)(K,G.a,(function(e,t){return function(e,t){return Object(m.a)({},e,{entities:t})}(e,function(e,t,n){var a=E.a.session(e),i=n.itemType,r=n.itemID,l=B(a,i,r),o=E.a.session(t),c=o[i];if(c.idExists(r)){var u=c.withId(r);u.updateFrom&&u.updateFrom(l)}else{var d=l.toJSON();c.parse(d)}return o.state}(Object(z.b)(e),Object(J.c)(e),t))})),Object(s.a)(K,G.d,(function(e,t){return q(Q(e,t),t)})),K)),Object(c.combineReducers)({entities:g,editingEntities:D,pilots:M,mechs:P,tabs:v,modals:N,contextMenu:H}),y);var Z=function(e){var t=[d.a],n=[c.applyMiddleware.apply(void 0,t)],a=u.composeWithDevTools.apply(void 0,n);return Object(c.createStore)(V,e,a)}(),$=document.getElementById("root");(function(){var e=n(680).default;l.a.render(i.a.createElement(o.a,{store:Z},i.a.createElement(e,null)),$)})()},79:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l}));var a=n(49),i=n(35),r=function(e){return e.editingEntities},l=Object(a.a)(r,(function(e){return i.a.session(e)}))}},[[352,1,2]]]);
//# sourceMappingURL=main.59135806.chunk.js.map